{"ast":null,"code":"import _objectSpread from \"/Users/Jossendal/Desktop/projects/contacts-keeper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/Jossendal/Desktop/projects/contacts-keeper/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Jossendal/Desktop/projects/contacts-keeper/client/src/components/auth/Register.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport AlertContext from '../../context/alert/alertContext';\nimport AuthContext from '../../context/auth/authContext';\nimport { validateForm } from '../../utils/index';\n\nconst Register = props => {\n  const _useContext = useContext(AlertContext),\n        setAlert = _useContext.setAlert;\n\n  const _useContext2 = useContext(AuthContext),\n        register = _useContext2.register,\n        error = _useContext2.error,\n        clearErrors = _useContext2.clearErrors,\n        isAuth = _useContext2.isAuth;\n\n  useEffect(() => {\n    if (isAuth) {\n      props.history.push('/');\n    }\n\n    if (error) {\n      setAlert('danger', error);\n      clearErrors();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [error, isAuth, props.history]);\n\n  const _useState = useState({\n    name: '',\n    email: '',\n    password: '',\n    passwordConfirm: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        user = _useState2[0],\n        setUser = _useState2[1];\n\n  const name = user.name,\n        email = user.email,\n        password = user.password,\n        passwordConfirm = user.passwordConfirm;\n\n  const onChange = e => {\n    setUser(_objectSpread({}, user, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    const _validateForm = validateForm(user),\n          valid = _validateForm.valid,\n          msg = _validateForm.msg;\n\n    if (!valid) {\n      setAlert('danger', msg);\n      return;\n    }\n\n    register(user);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"form-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Account\", React.createElement(\"span\", {\n    className: \"text-primary pl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Register\")), React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    value: name,\n    onChange: onChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Email Address\"), React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    value: email,\n    onChange: onChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: password,\n    onChange: onChange,\n    required: true,\n    minLength: \"6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"passwordConfirm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Confirm Password\"), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"passwordConfirm\",\n    value: passwordConfirm,\n    onChange: onChange,\n    required: true,\n    minLength: \"6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    onClick: handleSubmit,\n    className: \"btn btn-primary btn-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Register\")));\n};\n\nexport default Register;","map":{"version":3,"sources":["/Users/Jossendal/Desktop/projects/contacts-keeper/client/src/components/auth/Register.js"],"names":["React","useState","useContext","useEffect","AlertContext","AuthContext","validateForm","Register","props","setAlert","register","error","clearErrors","isAuth","history","push","name","email","password","passwordConfirm","user","setUser","onChange","e","target","value","handleSubmit","preventDefault","valid","msg"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\n\nimport AlertContext from '../../context/alert/alertContext';\nimport AuthContext from '../../context/auth/authContext';\n\nimport { validateForm } from '../../utils/index';\n\nconst Register = props => {\n    const { setAlert } = useContext(AlertContext);\n    const { register, error, clearErrors, isAuth } = useContext(AuthContext);\n\n    useEffect(() => {\n        if (isAuth) {\n            props.history.push('/');\n        }\n        if (error) {\n            setAlert('danger', error);\n            clearErrors();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [error, isAuth, props.history]);\n\n    const [user, setUser] = useState({\n        name: '',\n        email: '',\n        password: '',\n        passwordConfirm: '',\n    });\n    const { name, email, password, passwordConfirm } = user;\n\n    const onChange = e => {\n        setUser({ ...user, [e.target.name]: e.target.value });\n    };\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        const { valid, msg } = validateForm(user);\n        if (!valid) {\n            setAlert('danger', msg);\n            return;\n        }\n        register(user);\n    };\n\n    return (\n        <div className='form-container'>\n            <h1 className='text-center'>\n                Account\n                <span className='text-primary pl'>Register</span>\n            </h1>\n            <form>\n                <div className='form-group'>\n                    <label htmlFor='name'>Name</label>\n                    <input\n                        type='text'\n                        name='name'\n                        value={name}\n                        onChange={onChange}\n                        required\n                    />\n                </div>\n                <div className='form-group'>\n                    <label htmlFor='email'>Email Address</label>\n                    <input\n                        type='email'\n                        name='email'\n                        value={email}\n                        onChange={onChange}\n                        required\n                    />\n                </div>\n                <div className='form-group'>\n                    <label htmlFor='password'>Password</label>\n                    <input\n                        type='password'\n                        name='password'\n                        value={password}\n                        onChange={onChange}\n                        required\n                        minLength='6'\n                    />\n                </div>\n                <div className='form-group'>\n                    <label htmlFor='passwordConfirm'>Confirm Password</label>\n                    <input\n                        type='password'\n                        name='passwordConfirm'\n                        value={passwordConfirm}\n                        onChange={onChange}\n                        required\n                        minLength='6'\n                    />\n                </div>\n                <button\n                    onClick={handleSubmit}\n                    className='btn btn-primary btn-block'\n                >\n                    Register\n                </button>\n            </form>\n        </div>\n    );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}